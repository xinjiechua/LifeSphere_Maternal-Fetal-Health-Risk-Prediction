{% extends "layouts/base.html" %}

{% block title %} Fetal Health Risk Prediction {% endblock %}

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}{% endblock stylesheets %}

{% block content %}

<div class="content" align="center">
    <div class="row" >
        <div class="col-md-11" style="margin-left: 50px;">
            <div class="card">
                <div class="card-header">
                    <br>
                    <h1 class="card-title">Fetal Health Risk Prediction</h1>
                </div>
                <div class="card-body">
                    <h4 style="background-color: transparent;">Please enter the Cardiotocography exam results for health
                        prediction.</h4>
                    
                    <br>
                    <form action="/model2/predict" method="POST">
                        <div class="frm">
                            <table>
                                <tr>
                                    <td class="lbl"><label for="baseline" style="font-size: 20px;">Baseline
                                            Heartrate</label></td>
                                    <td><input type="text" id="baseline" name="baseline"
                                            placeholder=" Between [100-170]" style="width: 200px;font-size: 15px;">
                                    </td>

                                </tr>
                                <tr>
                                    <td class="lbl"><label for="accelerations"
                                            style="font-size: 20px;">Accelerations</label></td>
                                    <td><input type="text" id="accelerations" name="accelerations"
                                            placeholder=" Between [0.00-0.03]" style="width: 200px;font-size: 15px;">
                                    </td>
                                </tr>
                                <tr>
                                    <td class="lbl"><label for="movement" style="font-size: 20px;">Fetal
                                            Movement</label></td>
                                    <td><input type="text" id="movement" name="movement"
                                            placeholder=" Between [0.00-0.75]" style="width: 200px;font-size: 15px;">
                                    </td>

                                </tr>
                                <tr>
                                    <td class="lbl"><label for="contractions" style="font-size: 20px;">Uterine
                                            Contractions</label></td>
                                    <td><input type="text" id="contractions" name="contractions"
                                            placeholder=" Between [0.00-0.03]" style="width: 200px;font-size: 15px;">
                                    </td>
                                </tr>
                                <tr>
                                    <td class="lbl"><label for="decelerations" style="font-size: 20px;">Light
                                            Decelerations</label></td>
                                    <td><input type="text" id="decelerations" name="decelerations"
                                            placeholder=" Between [0.00-0.03]" style="width: 200px;font-size: 15px;">
                                    </td>
                                </tr>
                                <tr>
                                    <td class="lbl"><label for="severe" style="font-size: 20px;">Severe
                                            Decelerations</label></td>
                                    <td><input type="text" id="severe" name="severe"
                                            placeholder=" Between [0.000-0.002]" style="width: 200px;font-size: 15px;">
                                    </td>

                                </tr>
                                <tr>
                                    <td class="lbl"><label for="prolonged" style="font-size: 20px;">Prolonged
                                            Decelerations</label></td>
                                    <td><input type="text" id="prolonged" name="prolonged"
                                            placeholder=" Between [0.000-0.006]" style="width: 200px;font-size: 15px;">
                                    </td>

                                </tr>
                                <tr>
                                    <td class="lbl"><label for="abnormal" style="font-size: 20px;">Abnormal Short-term
                                            Variability</label></td>
                                    <td><input type="text" id="abnormal" name="abnormal"
                                            placeholder=" Between [10.0-90.0]" style="width: 200px;font-size: 15px;">
                                    </td>

                                </tr>
                                <tr>
                                    <td class="lbl"><label for="mean" style="font-size: 20px;">Mean Value of Short-term
                                            Variability</label></td>
                                    <td><input type="text" id="mean" name="mean" placeholder=" Between [0.0-8.0]"
                                            style="width: 200px;font-size: 15px;"> </td>

                                </tr>
                                <tr>
                                    <td class="lbl"><label for="time"
                                            style="font-size: 20px; margin-right: 30px;">Percentage of Time with
                                            Abnormal Long-term
                                            Variability</label></td>
                                    <td><input type="text" id="time" name="time" placeholder=" Between [0.0-90.0]"
                                            style="width: 200px;font-size: 15px;"></td>

                                </tr>
                                <tr>
                                    <td class="lbl"><label for="long" style="font-size: 20px;">Mean Value of Long-term
                                            Variability</label></td>
                                    <td><input type="text" id="long" name="long" placeholder=" Between [0.0-60.0]"
                                            style="width: 200px;font-size: 15px;"></td>
                                </tr>

                                <tr>
                                    <td class="lbl"><label for="width" style="font-size: 20px;">Histogram Width</label>
                                    </td>
                                    <td><input type="text" id="width" name="width" placeholder=" Between [0.0-180.0]"
                                            style="width: 200px;font-size: 15px;"></td>
                                <tr>
                                    <td class="lbl"><label for="min" style="font-size: 20px;">Histogram Minimum</label>
                                    </td>
                                    <td><input type="text" id="min" name="min" placeholder=" Between [0.0-170.0]"
                                            style="width: 200px;font-size: 15px;"></td>

                                </tr>
                                <tr>
                                    <td class="lbl"><label for="max" style="font-size: 20px;">Histogram Maximum</label>
                                    </td>
                                    <td><input type="text" id="max" name="max" placeholder=" Between [100.0-250.0]"
                                            style="width: 200px;font-size: 15px;"></td>

                                </tr>
                                <tr>
                                    <td class="lbl"><label for="peaks" style="font-size: 20px;">Histogram Number of
                                            Peaks</label></td>
                                    <td><input type="text" id="peaks" name="peaks" placeholder=" Between [0.0-18.0]"
                                            style="width: 200px;font-size: 15px;"></td>

                                </tr>
                                <tr>
                                    <td class="lbl"><label for="zero" style="font-size: 20px;">Histogram Number of
                                            Zeroes</label></td>
                                    <td><input type="text" id="zero" name="zero" placeholder=" Between [0.0-10.0]"
                                            style="width: 200px;font-size: 15px;"></td>

                                </tr>
                                <tr>
                                    <td class="lbl"><label for="mode" style="font-size: 20px;">Histogram Mode</label>
                                    </td>
                                    <td><input type="text" id="mode" name="mode" placeholder=" Between [50.0-190.0]"
                                            style="width: 200px;font-size: 15px;"></td>

                                </tr>
                                <tr>
                                    <td class="lbl"><label for="hmean" style="font-size: 20px;">Histogram Mean</label>
                                    </td>
                                    <td><input type="text" id="hmean" name="hmean" placeholder=" Between [70.0-190.0]"
                                            style="width: 200px;font-size: 15px;"></td>

                                </tr>
                                <tr>
                                    <td class="lbl"><label for="hmedian" style="font-size: 20px;">Histogram
                                            Median</label></td>
                                    <td><input type="text" id="hmedian" name="hmedian"
                                            placeholder=" Between [70.0-190.0]" style="width: 200px;font-size: 15px;">
                                    </td>

                                </tr>
                                <tr>
                                    <td class="lbl"><label for="var" style="font-size: 20px;">Histogram Variance</label>
                                    </td>
                                    <td><input type="text" id="var" name="var" placeholder=" Between [0.0-275.0]"
                                            style="width: 200px;font-size: 15px;"></td>

                                </tr>
                                <tr>
                                    <td class="lbl"><label for="tend" style="font-size: 20px;">Histogram
                                            Tendency</label></td>
                                    <td><select id="tend" name="tend" style="font-size: 15px;">
                                            <option value="-1.0">-1.0</option>
                                            <option value="0.0">0.0</option>
                                            <option value="1.0">1.0</option>
                                        </select></td>
                                </tr>
                            </table>
                        </div>
                        <br>
                        <br>
                        <input type="submit" value="Submit" class="p-2 mb-3 bg-primary text-white"
                            style="padding: 12px 30px; font-size: 18px; border-radius: 5px;">
                    </form>
                </div>
            </div>
        </div>
    </div>
    <div class="content" style="margin-left: 130px;margin-right:130px;text-align: center;">
        <br>
        {% if result_data %}
        <h1>Result: </h1>
        <h4 style="font-size: 1.2rem">The estimated fetal health condition is assessed as:</h4>
        {% if result_data['prediction'] == 'Pathological' %}
        <h2 style="color: red;">{{ result_data['prediction'] }}</h2>
        <h4 style="text-align: justify;">There are serious health concerns or abnormalities with your baby's fetal
            health that require immediate attention and follow-up. This can be a worrying result, but remember that
            further evaluation is needed for a conclusive diagnosis.It's important to connect with your healthcare
            provider immediately to discuss the results and determine the appropriate next steps. </h4>

        {% elif result_data['prediction'] == 'Suspect' %}
        <h2 style="color: yellow;">{{ result_data['prediction'] }}</h2>
        <h4 style="text-align: justify;">There might be some concerns or potential risks related to your baby's fetal
            health. However, please remember that further evaluation is needed to confirm the situation. It's important
            not to panic or jump to conclusions. Follow up with your healthcare provider for additional tests or
            examinations to gain a better understanding of your baby's health.

        </h4>
        {% elif result_data['prediction'] == 'Normal' %}
        <h2 style="color: rgb(64, 221, 64);">{{ result_data['prediction'] }}</h2>
        <h4 style="text-align: justify;">Great news! Your baby is currently showing healthy signs and is developing
            well.It's important to continue taking care of yourself by eating a balanced diet, getting regular exercise
            and attending your prenatal check-ups.</h4>
        {% endif %}
        {% endif %}
    </div>
</div>

{% endblock content %}

{% block javascripts %}{% endblock javascripts %}